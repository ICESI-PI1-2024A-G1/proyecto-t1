{% extends "base.html" %}

{% block title %}
Equipos
{% endblock %}

{% block content %}
{% load static %}

<link rel="stylesheet" href="{% static 'general/css/utils.css' %}">
<div class="container d-flex justify-content-center">
    <div class="d-flex justify-content-between card shadow mb-4">


        <div class="d-flex justify-content-between card-header py-3">
            <div>
                <h2 class="mb-4">Equipos</h2>   
            </div>
            <div class="text-end">
                <a href="/teams/add-team-form" class="btn btn-primary btn-icon-split">
                    <span class="icon text-white-50">
                        <i class="fa fa-plus"></i>
                    </span>
                    <span class="text">Crear equipo</span>
                </a>
            </div>
        </div>
        
     
    <div class="container overflow-auto-container overflow-x-scroll card-body">
        <table id="teamsTable" class="table table-bordered dataTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Líder</th>
                    <th>Descripción</th>
                    <th>Fecha de Creación</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for team in teams %}
                <tr>
                    <td>
                        {{ team.id }}
                    </td>
                    <td>
                        {{ team.name }}
                    </td>
                    <td>
                        {{ team.leader }}
                    </td>
                    <td>
                        {{ team.description }}
                    </td>
                    <td>
                        {{ team.created_at|date:"d-m-Y" }}
                    </td>
                    <td>
                        <button onclick="showModal('Miembros del equipo {{team.name}}', '/teams/show-members/{{team.id}}')" class="btn text-primary"><i class="fa fa-address-book"></i></button>
                        <a class="my-2 btn-sm btn text-danger delete-team" data-team-id="{{ team.id }}"><i
                                class="fa fa-trash"></i></a>
                        <a href="/teams/edit-team/{{team.id}}/" class="my-2 btn-sm btn text-secondary"><i
                                class="fa fa-edit"></i></a>

                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% load static %}
<script src="{% static '/teams/js/teams.js' %}"></script>

{% endblock %}